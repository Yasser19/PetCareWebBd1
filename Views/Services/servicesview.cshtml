<!DOCTYPE html>
<html>
@model  IEnumerable<object>

@{ 
    List<PetCareBd1.Models.t_services> servlist = Model.ToList()[0] as List<PetCareBd1.Models.t_services>;
    List<PetCareBd1.Models.serviceType> catlist = Model.ToList()[1] as List<PetCareBd1.Models.serviceType>;
}
<head>
    <meta charset="utf-8">
    <title>Servicios</title>
    <link rel="stylesheet" href="../css/login.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.css" rel="stylesheet"
          type='text/css'>

</head>


<body>
    <script src="~/Scripts/funciones.js" type="text/javascript"></script>
    <nav style="height:60px" class="navbar navbar-expand-lg bg-dark">

        <!-- Links -->
        <ul class="navbar-nav">

            <li class="nav-item"><a style="color:white;margin-right:60px;font-weight:600" href="@Url.Action("employeeview","Employees")"> Empleados</a></li>



            <li class="nav-item"><a style="color:white;margin-right:60px;font-weight:600" href="@Url.Action("petview","Pets")"> Mascotas</a></li>



            <li class="nav-item"><a style="color:white;margin-right:60px;font-weight:600" href="@Url.Action("customerview","Customer")"> Clientes</a></li>



            <li class="nav-item"><a style="color:white;margin-right:60px;font-weight:600" href="@Url.Action("servicesview","Services")"> Servicios y Categorías</a></li>


            <li class="nav-item"><a style="color:white;margin-right:60px;font-weight:600" href="@Url.Action("billview","Bill")"> Facturación</a></li>
        </ul>

    </nav>

    <div class="container">
        <form action="AddServiceType" method="post">
            <br>
            <br>
            <h2>Categoría de servicios</h2>
            <div class="form-row">
                <div class="form-group col-md-5">
                    <label for="idtiposervicio">ID</label>
                    <input  type="text" class="form-control" id="idtiposervicio" disabled>
                </div>

            </div>
            <div class="form-row">
                <div class="form-group col-md-5">
                    <label for="servicetypename">Cateogoría</label>
                    <input name="serviceTypeName"type="text" class="form-control" id="servicetypename" placeholder="Baños">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-5">
                    <label for="servicescatdesc">Descripción de la categoría</label>
                    <textarea name="serviceTypeDescription" id="servicescatdesc" class="form-control"> </textarea>
                </div>
            </div>



            <br>

            <button type="submit" class="btn btn-primary">Guardar categoría</button>
        </form>
    </div>
    <br>
    <br>
    <div class="container">


        <form action="AddService" method="post">
            <br>
            <br>
            <h2>Servicios</h2>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="idservicio">ID</label>
                    <input name="idserv" type="text" class="form-control" id="idservicio" disabled>
                </div>

            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="servicename">Nombre</label>
                    <input name="serviceName" type="text" class="form-control" id="servicename" placeholder="Baño y corte" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="servicedesc">Descripción del servicio</label>
                    <textarea name="serviceDescription" id="servicedesc" class="form-control" required></textarea>
                </div>
            </div>


            <div class="form-row">
                <div class="form-group col-md-6">

                    <label for="montoservicio">Monto</label>
                    <input name="serviceMonto" type="text" placeholder="150" class="form-control" id="montoservicio" required>

                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-6">

                    <label for="duracionid">Duración</label>
                    <input name="serviceDuration" type="text" placeholder="00:30:00" class="form-control" id="duracionid" required>

                </div>
            </div>

            

            <div class="form-row">
                <div class="form-group col-md-6">

                    <label>Categoría</label>
                    <select name="servtypes" class="form-control" id="idtiposervicio">

                        @foreach (var x in catlist)
                        {


                            <option value="@x.serviceTypeId">@x.serviceTypeName</option>


                        }
                    </select>


                </div>
            </div>

            <br>

            <button type="submit" class="btn btn-primary">Guardar Servicio</button>
        </form>


    </div>
    <br>
    <br>
    <br>


    <div class="container">
        <h2>Servicios registrados</h2>

        <table class="table table-hover">
            <thead>
                <tr>
                    <th>ID servicio</th>
                    <th>Nombre del servicio</th>
                    <th>Descirpción del servicio</th>
                    <th>Precio del servicio</th>
                    <th>Duración del servicio</th>
                    <th>Cateogoría</th>
                    <th>Editar</th>
                    <th>Borrar</th>

                </tr>
            </thead>
            <tbody>
                @foreach (var i in servlist)
                {


                    <tr>
                        <td>@i.serviceId</td>
                        <td>@i.serviceName</td>
                        <td>@i.serviceDescription</td>
                        <td>@i.servicePrice</td>
                        <td>@i.serviceduration</td>
                        <td>@i.serviceType.serviceTypeName</td>

                        <td>
                            <button type="button" class="btn btn-warning"> <a style="color:white;font-weight:300" href="@Url.Action("GetServicesToEdit", "Services",new {id=i.serviceId })"> Editar</a> </button>

                        </td>
                        <td>
                            <button class="btn btn-danger"> <a style="color:white;font-weight:300" href="@Url.Action("Delete","Services", new { id=i.serviceId})"> Borrar</a></button>
                        </td>
                    </tr>
                }

            </tbody>
        </table>
    </div>



</body>

</html>